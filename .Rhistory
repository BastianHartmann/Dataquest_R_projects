install.packages(tidyverse)
install.packages("tidyverse")
setwd("C:/Users/Bastian/FH München/Promotion/R/RStudio/Dataquest")
clear
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
forest_fires <- read_csv("sources/forestfires.csv",show_col_types = FALSE)
forest_fires <- read_csv("sources/forestfires.csv",show_col_types = FALSE)
tempdir()
sessionInfo()
forest_fires <- read_csv("sources/forestfires.csv",show_col_types = FALSE)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
forest_fires <- read_csv("sources/forestfires.csv",show_col_types = FALSE)
forest_fires <- read_csv("./sources/forestfires.csv",show_col_types = FALSE)
getwd
getwd()
forest_fires <- read_csv(getwd()+"/sources/forestfires.csv",show_col_types = FALSE)
forest_fires <- read_csv(getwd()+"C:/Users/Bastian/FH München/Promotion/R/RStudio/Dataquest/sources/forestfires.csv",show_col_types = FALSE)
forest_fires <- read_csv("C:/Users/Bastian/FH München/Promotion/R/RStudio/Dataquest/sources/forestfires.csv",show_col_types = FALSE)
forest_fires <- read_csv("Y:/R/RStudio/Dataquest/sources/forestfires.csv",show_col_types = FALSE)
print(dim(forest_fires))
head(forest_fires)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
forest_fires <- read_csv("Y:/R/RStudio/Dataquest/sources/forestfires.csv",show_col_types = FALSE)
print(dim(forest_fires))
head(forest_fires)
forest_fires %>% pull(month) %>% unique()
forest_fires %>% pull(day) %>% unique()
month_levels <- c("jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec")
day_levels <- c("mon","tue","wed","thu","fri","sat","sun")
forest_fires <- forest_fires %>%
mutate(
month = factor(month,levels = month_levels),
day = factor(day,levels = day_levels)
)
head(forest_fires)
fires_by_month <- forest_fires %>% group_by(month) %>% summarize(fires=n())
knitr::kable(fires_by_month,caption="Fires per Month")
fires_by_wday <- forest_fires %>% group_by(day) %>% summarize(fires=n())
knitr::kable(fires_by_wday,caption="Fires per days of the week")
fires_by_month %>%
ggplot(aes(x=month,y=fires))+
geom_col()+
labs(
title="Number of Forest Fires per Month",
x = "Month",
y = "Number of Forest Fires"
)
fires_by_wday %>%
ggplot(aes(x=day,y=fires))+
geom_col()+
labs(
title="Number of Forest Fires per Day of Week",
x = "Day of Week",
y = "Number of Forest Fires"
)
forest_fires_normalized <- forest_fires %>% mutate(
FFMC = FFMC/max(abs(FFMC)),
DMC = DMC/max(abs(DMC)),
DC = DC/max(abs(DC)),
ISI = ISI/max(abs(ISI)),
temp = temp/max(abs(temp)),
RH = RH/max(abs(RH)),
wind = wind/max(abs(wind)),
rain = rain/max(abs(rain))
)
mormalized_means <- forest_fires_normalized %>%
group_by(month) %>%
summarize(
FFMC_means=mean(FFMC),
DMC_means = mean(DMC),
DC_means = mean(DC),
ISI_means = mean(ISI),
temp_means = mean(temp),
RH_means = mean(RH),
wind_means = mean(wind),
rain_means = mean(rain)
)
mormalized_means %>% pivot_longer(
cols = c(FFMC_means,DMC_means,DC_means,ISI_means,temp_means,RH_means,wind_means,rain_means),
names_to = "variables",
values_to = "means"
) %>%
ggplot(aes(x=month,y=means,color=variables))+
geom_vline(aes(xintercept="aug"),alpha=0.8)+
geom_vline(aes(xintercept="sep"),alpha=0.8)+
geom_point(size=3)+
facet_grid(rows = vars(variables))+
ylab("normalzed means")+
labs(title="Normalized Means Against Months")
View(forest_fires)
forest_fires %>%
ggplot(aes(y=area))+
geom_point()+
facet_grid(rows = vars(FFMC,DMC,DC,ISI,temp,RG,wind,rain),
scales = "free_x")
forest_fires %>%
ggplot(aes(y=area))+
geom_point(aes=FFMC)+
facet_grid(rows = vars(FFMC,DMC,DC,ISI,temp,RG,wind,rain),
scales = "free_x")
forest_fires %>%
ggplot(aes(y=area))+
geom_point(aes(x=FFMC)+
facet_grid(rows = vars(FFMC,DMC,DC,ISI,temp,RG,wind,rain),
scales = "free_x")
forest_fires %>%
ggplot(aes(y=area))+
geom_point(aes(x=FFMC))+
facet_grid(rows = vars(FFMC,DMC,DC,ISI,temp,RG,wind,rain),
scales = "free_x")
forest_fires %>%
ggplot(aes(y=area))+
geom_point(aes(x=FFMC))+
geom_point(aes(x=DMC))+
facet_grid(rows = vars(FFMC,DMC,DC,ISI,temp,RG,wind,rain),
scales = "free_x")
forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point()+
facet_grid(rows = vars(variables),
scales = "free_x")
forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point()+
facet_grid(rows = vars(variables),
scales = "free_x")
forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point()+
facet_grid(rows = vars(variables),
scales = "free_x")
forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point()+
facet_grid(rows = vars(variables),
scales = "free_x")
forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point()+
facet_grid(rows = vars(variables),
scales = "free")
forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point()+
facet_wrap(facets = vars(variables),
scales = "free_x")
forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point()+
facet_wrap(facets = vars(variables),
scales = "free_x")
forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point()+
facet_wrap(facets = vars(variables),
scales = "free_x")
forest_fires %>%
ggplot(aes(x=area))+
geom_histogram()
forest_fires %>%
ggplot(aes(x=area))+
geom_histogram(bins=30)
filtered_forest_fires <- forest_fires %>%
filter(
area != 0 &
area < 1.5 * IQR(area)
)
filtered_forest_fires <- forest_fires %>%
filter(
area != 0 &
area < 1.5 * IQR(area)
)
filtered_forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point()+
facet_wrap(facets = vars(variables),
scales = "free_x"
)
quant_25 = quantile(forest_fires[["area"]],probs=seq(.25))
quant_25
quants = quantile(forest_fires[["area"]])
quants
quant_25 = quants[2]
quant_75 = quants[4]
quants = quantile(forest_fires[["area"]])
quant_25 = quants[2]
quant_75 = quants[4]
filtered_forest_fires <- forest_fires %>%
filter(
area != 0 &
(area < quant_25-(1.5*IQR(area)) | (area > quant_75+(1.5*IQR(area))))
)
filtered_forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point()+
facet_wrap(facets = vars(variables),
scales = "free_x"
)
quants = quantile(forest_fires[["area"]])
quant_25 = quants[2]
quant_75 = quants[4]
filtered_forest_fires <- forest_fires %>%
filter(
area != 0 &
(area < quant_25-(1.5*IQR(area)) | (area > quant_75+(1.5*IQR(area))))
)
filtered_forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point()+
facet_wrap(facets = vars(variables),
scales = "free_x"
)
quants = quantile(forest_fires[["area"]])
quant_25 = quants[2]
quant_75 = quants[4]
filtered_forest_fires <- forest_fires %>%
filter(
area != 0 &
(area < quant_25-(1.5*IQR(area)) | (area > quant_75+(1.5*IQR(area))))
)
filtered_forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point(size=3)+
facet_wrap(facets = vars(variables),
scales = "free_x"
)
quants = quantile(forest_fires[["area"]])
quant_25 = quants[2]
quant_75 = quants[4]
filtered_forest_fires <- forest_fires %>%
filter(
area != 0 &
(area < quant_25-(1.5*IQR(area)) | (area > quant_75+(1.5*IQR(area))))
)
filtered_forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point(size=4)+
facet_wrap(facets = vars(variables),
scales = "free_x"
)
forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point(size=4)+
facet_wrap(facets = vars(variables),
scales = "free_x")
forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point(size=4)+
facet_wrap(facets = vars(variables),
scales = "free_x")
quants = quantile(forest_fires[["area"]])
quant_25 = quants[2]
quant_75 = quants[4]
filtered_forest_fires <- forest_fires %>%
filter(
area != 0 &
(area < quant_25-(1.5*IQR(area)) | (area > quant_75+(1.5*IQR(area))))
)
filtered_forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point(size=3)+
facet_wrap(facets = vars(variables),
scales = "free_x"
)
quants = quantile(forest_fires[["area"]])
quant_25 = quants[2]
quant_75 = quants[4]
filtered_forest_fires <- forest_fires %>%
filter(
area != 0 &
#(area < quant_25-(1.5*IQR(area)) | (area > quant_75+(1.5*IQR(area))))
area > 600
)
filtered_forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point(size=3)+
facet_wrap(facets = vars(variables),
scales = "free_x"
)
quants = quantile(forest_fires[["area"]])
quant_25 = quants[2]
quant_75 = quants[4]
filtered_forest_fires <- forest_fires %>%
filter(
area != 0 &
#(area < quant_25-(1.5*IQR(area)) | (area > quant_75+(1.5*IQR(area))))
area < 600
)
filtered_forest_fires %>%
pivot_longer(
cols = c("FFMC","DMC","DC","ISI","temp","RH","wind","rain"),
names_to = "variables",
values_to = "var_vals"
) %>%
ggplot(aes(x=var_vals,y=area))+
geom_point(size=3)+
facet_wrap(facets = vars(variables),
scales = "free_x"
)
